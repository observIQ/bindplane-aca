# Secrets for the Container Apps
apiVersion: v1
kind: Secret
metadata:
  name: bindplane-license
  namespace: default
type: Opaque
data:
  license: dGVzdC1saWNlbnNlLWtleQ==

---
apiVersion: v1
kind: Secret
metadata:
  name: postgres-secret
  namespace: default
type: Opaque
data:
  password: dGVzdC1wYXNzd29yZA==

---
# Storage for persistent data
apiVersion: v1
kind: PersistentVolume
metadata:
  name: prometheus-pv
spec:
  capacity:
    storage: 10Gi
  accessModes:
    - ReadWriteOnce
  persistentVolumeReclaimPolicy: Retain
  azureFile:
    secretName: azure-storage-secret
    shareName: prometheus-data
    readOnly: false

---
apiVersion: v1
kind: PersistentVolume
metadata:
  name: nats-data-pv
spec:
  capacity:
    storage: 5Gi
  accessModes:
    - ReadWriteOnce
  persistentVolumeReclaimPolicy: Retain
  azureFile:
    secretName: azure-storage-secret
    shareName: nats-data
    readOnly: false

---
# Azure Storage Account Secret (placeholder)
apiVersion: v1
kind: Secret
metadata:
  name: azure-storage-secret
  namespace: default
type: Opaque
data:
  azurestorageaccountname: dGVzdHN0b3JhZ2VhY2NvdW50
  azurestorageaccountkey: dGVzdC1zdG9yYWdlLWtleQ==
